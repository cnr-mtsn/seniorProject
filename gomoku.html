<html>
    <head>
        <title>Gomoku</title>
    </head>
    <style type="text/css">
        h1
        {
            padding-left: 20px;
            text-decoration-line: underline;
        }
        h3
        {
            padding-left: 20px;
        }
    </style>
    <body>
        <h1>Gomoku - First to get five in a row wins!</h1>
        <canvas id="myCanvas" width="495" height="495"></canvas>
        <script type="text/javascript">
        var canvas = document.getElementById("myCanvas");
        var context = canvas.getContext("2d");
        context.beginPath();
        context.fillStyle = "#F0E68C";
        context.fillRect(20, 20, 510, 510);
        var whichCircle = 0;
        var counter = 1;
        var win = false;
        var pX;
        var pY;
        var diagonal1 = 1;
        var diagonal2 = 1;
        var up = 1;
        var side = 1;
        
        for (var i = 0; i < 400; i++)
        {
            window['check'+i] = true;
        }
        for (var i = 0; i < 400; i++)
        {
            window['color'+i] = 0;
        }
        function createGrid()
        {
            for(var y = 20; y < 495; y+= 25)
            {
                for(var x = 20; x < 495; x+= 25)
                {
                    context.beginPath();
                    context.rect(x, y, 25, 25);
                    context.stroke();
                }
            }
        }
        var check = 0;
        function checkDiagonal1(num, x, y)
        {
            while(check == 0)
            {
                if((whichCircle % 2) == 0)
                {
                    if(window['color'+(num-21)] == 1)
                    {
                        diagonal1++
                        num = num - 21;
                    }
                    else
                    {
                        check++;
                    }
                    if(diagonal1 == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "Black Player Won!";
                        while(window['color'+(num)] == 1)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num + 21;
                            x = x - 1;
                            y = y - 1;
                        }
                    }
                }
                else
                {
                    if(window['color'+(num-21)] == 2)
                    {
                        diagonal1++;
                        num = num - 21;
                    }
                    else
                    {
                        check++;
                    }
                    if(diagonal1 == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "White Player Won!";
                        while(window['color'+(num)] == 2)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num + 21;
                            x = x - 1;
                            y = y - 1;
                        }
                    }
                }
            }
        }
        function checkDiagonal1Down(num, x, y)
        {
            while(check == 0)
            {
                if((whichCircle % 2) == 0)
                {
                    if(window['color'+(num+21)] == 1)
                    {
                        diagonal1++
                        num = num + 21;
                    }
                    else
                    {
                        check++;
                    }
               if(diagonal1 == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "Black Player Won!";
                        while(window['color'+(num)] == 1)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num - 21;
                            x = x + 1;
                            y = y + 1;
                        }
                    }
                }
                else
                {
                    if(window['color'+(num+21)] == 2)
                    {
                        diagonal1++;
                        num = num + 21;
                    }
                    else
                    {
                        check++;
                    }
                    if(diagonal1 == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "White Player Won!";
                        while(window['color'+(num)] == 2)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num - 21;
                            x = x + 1;
                            y = y + 1;
                        }
                    }
                }
            }
        }
        function checkDiagonal2(num, x, y)
        {
            while(check == 0)
            {
                if((whichCircle % 2) == 0)
                {
                    if(window['color'+(num-19)] == 1)
                    {
                        diagonal2++
                        num = num - 19;
                    }
                    else
                    {
                        check++;
                    }
                if(diagonal2 == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "Black Player Won!";
                        while(window['color'+(num)] == 1)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num + 19;
                            x = x - 1;
                            y = y + 1;
                        }
                    }
                }
                else
                {
                    if(window['color'+(num-19)] == 2)
                    {
                        diagonal2++;
                        num = num - 19;
                    }
                    else
                    {
                        check++;
                    }
                    if(diagonal2 == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "White Player Won!";
                        while(window['color'+(num)] == 2)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num + 19;
                            x = x - 1;
                            y = y + 1;
                        }
                    }
                }
            }
        }
        function checkDiagonal2Down(num, x, y)
        {
            while(check == 0)
            {
                if((whichCircle % 2) == 0)
                {
                    if(window['color'+(num+19)] == 1)
                    {
                        diagonal2++
                        num = num + 19;
                    }
                    else
                    {
                        check++;
                    }
                if(diagonal2 == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "Black Player Won!";
                        while(window['color'+(num)] == 1)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num - 19;
                            x = x + 1;
                            y = y - 1;
                        }
                    }
                }
                else
                {
                    if(window['color'+(num+19)] == 2)
                    {
                        diagonal2++;
                        num = num + 19;
                    }
                    else
                    {
                        check++;
                    }
                    if(diagonal2 == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "White Player Won!";
                        while(window['color'+(num)] == 2)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num - 19;
                            x = x + 1;
                            y = y - 1;
                        }
                    }
                }
            }
        }
        function checkSide(num, x, y)
        {
            while(check == 0)
            {
                if((whichCircle % 2) == 0)
                {
                    if(window['color'+(num-1)] == 1)
                    {
                        side++
                        num = num - 1;
                    }
                    else
                    {
                        check++;
                    }
                if(side == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "Black Player Won!";
                        while(window['color'+(num)] == 1)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num + 1;
                            y = y - 1;
                        }
                    }
                }
                else
                {
                    if(window['color'+(num-1)] == 2)
                    {
                        side++;
                        num = num - 1;
                    }
                    else
                    {
                        check++;
                    }
                    if(side == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "White Player Won!";
                        while(window['color'+(num)] == 2)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num + 1;
                            y = y - 1;
                        }
                    }
                }
            }
        }
        function checkSideRight(num, x, y)
        {
            while(check == 0)
            {
                if((whichCircle % 2) == 0)
                {
                    if(window['color'+(num+1)] == 1)
                    {
                        side++
                        num = num + 1;
                    }
                    else
                    {
                        check++;
                    }
                if(side == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "Black Player Won!";
                        while(window['color'+(num)] == 1)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num - 1;
                            y = y + 1;
                        }
                    }
                }
                else
                {
                    if(window['color'+(num+1)] == 2)
                    {
                        side++;
                        num = num + 1;
                    }
                    else
                    {
                        check++;
                    }
                    if(side == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "White Player Won!";
                        while(window['color'+(num)] == 2)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num - 1;
                            y = y + 1;
                        }
                    }
                }
            }
        }
        function checkUp(num, x, y)
        {
            while(check == 0)
            {
                if((whichCircle % 2) == 0)
                {
                    if(window['color'+(num-20)] == 1)
                    {
                        up++
                        num = num - 20;
                    }
                    else
                    {
                        check++;
                    }
                if(up == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "Black Player Won!";
                        while(window['color'+(num)] == 1)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num + 20;
                            x = x - 1;
                        }
                    }
                }
                else
                {
                    if(window['color'+(num-20)] == 2)
                    {
                        up++;
                        num = num - 20;
                    }
                    else
                    {
                        check++;
                    }
                    if(up == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "White Player Won!";
                        while(window['color'+(num)] == 2)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num + 20;
                            x = x - 1;
                        }
                    }
                }
            }
        }
        function checkDown(num, x, y)
        {
            while(check == 0)   
            {
                if((whichCircle % 2) == 0)
                {
                    if(window['color'+(num+20)] == 1)
                    {
                        up++
                        num = num + 20;
                    }
                    else
                    {
                        check++;
                    }
                if(up == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "Black Player Won!";
                        while(window['color'+(num)] == 1)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num - 20;
                            x = x + 1;
                        }
                    }
                }
                else
                {
                    if(window['color'+(num+20)] == 2)
                    {
                        up++;
                        num = num + 20;
                    }
                    else
                    {
                        check++;
                    }
                    if(up == 5)
                    {
                        win = true;
                        var text = document.getElementById("player");
                        text.innerHTML = "White Player Won!";
                        while(window['color'+(num)] == 2)
                        {
                            context.beginPath();
                            context.arc((20+(y*25)), (20+(x*25)), 8, 0, 2*Math.PI);
                            context.strokeStyle = "yellow";
                            context.stroke();
                            
                            num = num - 20;
                            x = x + 1;
                        }
                    }
                }
            }
        }
        
        function makeCircle(e)
        {
            pX = e.pageX;
            pY = e.pageY;
            
            if((whichCircle % 2) == 0)
            {
                for(var j = 0; j < 19; j++)
                {
                    for(var i = 0; i < 19; i++)
                    {
                        if((pX > (20+(i*25))) && (pX < (33+(i*25))) && (pY > (80+(j*25))) && (pY < (93+(j*25))))
                        {
                            if(win == false)
                            {
                                if((window['check'+((j*20)+i)] == true) && (window['color'+((j*20)+i)] == 0))
                                {
                                    {
                                        context.beginPath();
                                        context.arc((20+(i*25)), (20+(j*25)), 8, 0, 2*Math.PI);
                                        context.fillStyle = "black";
                                        context.fill();
                                        window['check'+((j*20)+i)] = false;
                                        window['color'+((j*20)+i)] = 1;
                                        
                                        checkDiagonal1(((j*20)+i), j, i);
                                        check = 0;
                                        checkDiagonal1Down(((j*20)+i), j, i);
                                        check = 0;
                                        checkDiagonal2(((j*20)+i), j, i);
                                        check = 0;
                                        checkDiagonal2Down(((j*20)+i), j, i);
                                        check = 0;
                                        checkSide(((j*20)+i), j, i);
                                        check = 0;
                                        checkSideRight(((j*20)+i), j, i);
                                        check = 0;
                                        checkUp(((j*20)+i), j, i);
                                        check = 0;
                                        checkDown(((j*20)+i), j, i);
                                        check = 0;
                                        var text = document.getElementById("player");
                                        if(diagonal1 == 5)
                                        {
                                            text.innerHTML = "Black Player Won!";
                                            win = true;
                                        }
                                        else
                                        {
                                            diagonal1 = 1;
                                        }
                                        if(diagonal2 == 5)
                                        {
                                            text.innerHTML = "Black Player Won!";
                                            win = true;
                                        }
                                        else
                                        {
                                            diagonal2 = 1;
                                        }
                                        if(side == 5)
                                        {
                                            text.innerHTML = "Black Player Won!";
                                            win = true;
                                        }
                                        else
                                        {
                                            side = 1;
                                        }
                                        if(up == 5)
                                        {
                                            text.innerHTML = "Black Player Won!";
                                            win = true;
                                        }
                                        else
                                        {
                                            up = 1;
                                        }
                                        whichCircle++;
                                        if(win == false)
                                        {
                                            text.innerHTML = "White Player's Turn (Click on a corner where you want to place a stone)";
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
                
            }
            else
            {
                for(var j = 0; j < 19; j++)
                {
                    for(var i = 0; i < 19; i++)
                    {
                        if((pX > (20+(i*25))) && (pX < (33+(i*25))) && (pY > (80+(j*25))) && (pY < (93+(j*25))))
                        {
                            if(win == false)
                            {
                                if((window['check'+((j*20)+i)] == true) && (window['color'+((j*20)+i)] == 0))
                                {
                                    {
                                        context.beginPath();
                                        context.arc((20+(i*25)), (20+(j*25)), 8, 0, 2*Math.PI);
                                        context.fillStyle = "white";
                                        context.fill();
                                        window['check'+((j*20)+i)] = false;
                                        window['color'+((j*20)+i)] = 2;
                                        
                                        checkDiagonal1(((j*20)+i), j, i);
                                        check = 0;
                                        checkDiagonal1Down(((j*20)+i), j, i);
                                        check = 0;
                                        checkDiagonal2(((j*20)+i), j, i);
                                        check = 0;
                                        checkDiagonal2Down(((j*20)+i), j, i);
                                        check = 0;
                                        checkSide(((j*20)+i), j, i);
                                        check = 0;
                                        checkSideRight(((j*20)+i), j, i);
                                        check = 0;
                                        checkUp(((j*20)+i), j, i);
                                        check = 0;
                                        checkDown(((j*20)+i), j, i);
                                        check = 0;
                                        var text = document.getElementById("player");
                                        if(diagonal1 == 5)
                                        {
                                            text.innerHTML = "White Player Won!";
                                            win = true;
                                        }
                                        else
                                        {
                                            diagonal1 = 1;
                                        }
                                        if(diagonal2 == 5)
                                        {
                                            text.innerHTML = "White Player Won!";
                                            win = true;
                                        }
                                        else
                                        {
                                            diagonal2 = 1;
                                        }
                                        if(side == 5)
                                        {
                                            text.innerHTML = "White Player Won!";
                                            win = true;
                                        }
                                        else
                                        {
                                            side = 1;
                                        }
                                        if(up == 5)
                                        {
                                            text.innerHTML = "White Player Won!";
                                            win = true;
                                        }
                                        else
                                        {
                                            up = 1;
                                        }
                                        whichCircle++;
                                        if(win == false)
                                        {
                                            text.innerHTML = "Black Player's Turn (Click on a corner where you want to place a stone)";
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
            
        }
        
        window.addEventListener("load", createGrid, false);
        window.addEventListener("click", makeCircle, false);
    </script>
        <h3 id="player">Black Player's Turn (Click on a corner where you want to place a stone)</h3>
    </body>
</html>